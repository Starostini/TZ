function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")}));let btns=document.querySelectorAll(".btn"),modal=document.querySelector(".modal"),body=document.querySelector("body"),nameText=document.querySelector(".name__text"),phoneText=document.querySelector(".phone__text"),productText=document.querySelector(".product__text"),form=document.querySelector(".request");document.addEventListener("DOMContentLoaded",(function(){for(const e of btns)console.log(e),e.addEventListener("click",(function(t){t.stopPropagation();let o=e.parentNode.querySelector(".list__item-title");modal.classList.add("dblock"),productText.innerText=o.innerText}));function e(e){e.parentElement.classList.add("_error"),e.classList.add("_error")}function t(e){e.parentElement.classList.remove("_error"),e.classList.remove("_error")}function o(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}body.addEventListener("click",(function(e){e.stopPropagation(),modal.classList.remove("dblock")})),form.addEventListener("click",(function(e){e.stopPropagation()})),form.addEventListener("submit",(async function(n){n.preventDefault();let r=function(n){let r=0,s=document.querySelectorAll("._req");for(let n=0;n<s.length;n++){const c=s[n];t(c),c.classList.contains("_email")&&o(c)&&(e(c),r++)}return r}(),s=new FormData(form);if(0===r){form.classList.add("_sending");let e=await fetch("sendmail.php",{method:"POST",body:s});if(e.ok){let t=await e.json();alert(t.message),form.reset(),form.classList.remove("_sending")}else alert("Error Error!"),form.classList.remove("_sending")}else alert("Заполните все поля")}))}));